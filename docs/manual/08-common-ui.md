# 第8章: 画面共通操作

従業員管理システムの画面共通操作について説明します。このシステムはMudBlazorを使用したモダンなUIを採用しており、直感的な操作性を提供します。

## 目次

- [ナビゲーションメニューとドロワー操作](#ナビゲーションメニューとドロワー操作)
- [パンくずリストとリンクの意味](#パンくずリストとリンクの意味)
- [共通エラーの見方](#共通エラーの見方)
- [認証状態の確認](#認証状態の確認)
- [アイコンの意味](#アイコンの意味)
- [共通UI要素](#共通ui要素)
- [キーボードショートカット](#キーボードショートカット)
- [レスポンシブデザイン](#レスポンシブデザイン)

---

## ナビゲーションメニューとドロワー操作

### ナビゲーションメニューの開閉

従業員管理システムでは、左側にナビゲーションドロワー（サイドバー）が配置されています。

#### メニューボタンの場所

画面左上にある **☰ メニューアイコン** をクリックすることで、ナビゲーションドロワーの開閉ができます。

```
┌────────────────────────────────────────┐
│ ☰ 従業員管理システム              ⋮  │ ← 上部バー（AppBar）
├────────────────────────────────────────┤
│                                        │
│  左上メニューで主要機能にすぐアクセス   │
│                                        │
└────────────────────────────────────────┘
```

#### ドロワーの動作

- **開く**: メニューアイコンをクリックすると、左側からドロワーがスライド表示されます
- **閉じる**: もう一度メニューアイコンをクリックするか、画面の他の場所をクリックすると閉じます
- **デフォルト状態**: デスクトップでは初期状態で開いています

### 主要機能へのアクセス

ナビゲーションメニューには以下の主要機能へのリンクが用意されています：

| アイコン | 機能名 | 説明 |
|---------|--------|------|
| 🏠 | ホーム | システムのトップページ |
| 📊 | ダッシュボード | 統計情報と概要の表示 |
| 👥 | 従業員管理 | 従業員情報の管理画面 |
| 🕐 | 勤怠管理 | 勤怠データの管理画面 |
| 🔔 | 通知管理 | 通知の確認と管理 |

#### メニュー構成の例

```
┌──────────────────────┐
│ 🏠 ホーム            │ ← クリックで各ページへ移動
│ 📊 ダッシュボード     │
│ 👥 従業員管理        │
│ 🕐 勤怠管理          │
│ 🔔 通知管理          │
│ ────────────────    │ ← 区切り線
│ 👤 testuser         │ ← ログイン中のユーザー名
│ 🚪 ログアウト        │
└──────────────────────┘
```

### ナビゲーションメニューの状態

ナビゲーションメニューは、認証状態によって表示内容が変わります：

#### ログイン中

- ユーザー名が表示されます
- **ログアウト**ボタンが表示されます

#### ログアウト状態

- ユーザー名は表示されません
- **ログイン**ボタンが表示されます

---

## パンくずリストとリンクの意味

### 画面タイトルの理解

各ページの上部には、現在表示している画面のタイトルが大きく表示されます：

```
従業員一覧
```

このタイトルは、現在どの機能を使用しているかを示します。

### リンクの種類と動作

システム内には、さまざまなリンクが配置されています：

#### 1. ナビゲーションリンク（サイドメニュー）

- **外観**: アイコン + テキスト
- **動作**: クリックで該当ページへ移動
- **視覚的フィードバック**: 現在のページは背景色がハイライトされます

#### 2. カードリンク（ホーム画面）

- **外観**: カード形式の大きなボタン
- **動作**: 「開く」ボタンをクリックで該当機能へ移動
- **用途**: 主要機能への分かりやすいアクセスポイント

例：
```
┌─────────────────────────┐
│ 👥 従業員管理           │
│                         │
│ 従業員情報の登録、編集、 │
│ 検索を行えます。         │
│                         │
│ [開く]                  │ ← クリックで移動
└─────────────────────────┘
```

#### 3. インラインリンク（テキスト内）

- **外観**: 青色のテキストリンク
- **動作**: クリックで該当ページへ移動
- **用途**: 説明文やメッセージ内の関連ページへの誘導

例：
```
ログインしていません。[ログインページ]からログインしてください。
                        ↑ クリックで /login へ移動
```

### 画面間の移動方法

**画面間の移動はパンくずやサイドバーから簡単に行えます：**

1. **サイドバーから**: 目的の機能をクリック
2. **ホーム画面から**: 各機能カードの「開く」ボタンをクリック
3. **インラインリンクから**: テキスト内のリンクをクリック
4. **ブラウザの戻るボタン**: 前のページに戻る

---

## 共通エラーの見方

### エラー表示の種類

従業員管理システムでは、MudBlazorのアラートコンポーネントを使用してエラーや情報を表示します。

#### 1. エラーメッセージ（Error）

**色**: 赤色の背景  
**アイコン**: ⚠️ または ❌  
**意味**: 操作が失敗した、または問題が発生した

```
┌─────────────────────────────────────────┐
│ ❌ ユーザー名またはパスワードが正しくあり │
│    ません。                              │
└─────────────────────────────────────────┘
```

**対処方法**:
- エラーメッセージの内容を確認する
- 指示に従って修正する
- 問題が解決しない場合は管理者に連絡する

#### 2. 警告メッセージ（Warning）

**色**: オレンジ色の背景  
**アイコン**: ⚠️  
**意味**: 注意が必要な状態、または推奨される操作がある

```
┌─────────────────────────────────────────┐
│ ⚠️ この機能を利用するにはログインすることを │
│    お勧めします。                        │
└─────────────────────────────────────────┘
```

**対処方法**:
- 警告の内容を確認する
- 必要に応じて推奨される操作を実行する

#### 3. 情報メッセージ（Info）

**色**: 青色の背景  
**アイコン**: ℹ️  
**意味**: 参考情報や通知

```
┌─────────────────────────────────────────┐
│ ℹ️ ログインしていません。               │
│    ログインページからログインしてください。│
└─────────────────────────────────────────┘
```

**対処方法**:
- 情報を確認する
- 必要に応じてリンクをクリックして操作する

#### 4. 成功メッセージ（Success）

**色**: 緑色の背景  
**アイコン**: ✓  
**意味**: 操作が成功した

```
┌─────────────────────────────────────────┐
│ ✓ ログイン中: testuser                  │
│   (testuser@example.com)                │
└─────────────────────────────────────────┘
```

**対処方法**:
- 操作が正常に完了したことを確認する

### Snackbar（トースト通知）

画面の下部または右上に短時間表示される通知です：

```
┌─────────────────────────┐
│ ✓ ログインに成功しました │ ← 数秒後に自動的に消える
└─────────────────────────┘
```

**特徴**:
- 操作の結果を即座にフィードバック
- 自動的に消える（通常3～5秒）
- 画面操作を妨げない

### ローディング状態

データの読み込み中は、以下のような表示が出ます：

```
⭕ 従業員データを読み込み中...
```

**意味**: システムがデータを取得している最中です  
**対処方法**: 完了するまで待つ（通常は数秒以内）

### よくあるエラーと対処法

| エラーメッセージ | 原因 | 対処法 |
|----------------|------|--------|
| ユーザー名またはパスワードが正しくありません | 認証情報が間違っている | ユーザー名とパスワードを再確認してください |
| 従業員データを読み込めませんでした | APIサーバーに接続できない | ページを再読み込みするか、管理者に連絡してください |
| この機能を利用するにはログインが必要です | 認証が必要な機能にアクセスした | ログインページからログインしてください |
| 権限がありません | 必要な権限を持っていない | 管理者に権限付与を依頼してください |

---

## 認証状態の確認

### 認証状態の表示場所

システム内では、複数の場所で認証状態を確認できます。

#### 1. ナビゲーションメニュー（下部）

```
┌──────────────────────┐
│ 👤 testuser         │ ← ログイン中のユーザー名
│ 🚪 ログアウト        │
└──────────────────────┘
```

または

```
┌──────────────────────┐
│ 🔐 ログイン          │ ← ログインが必要
└──────────────────────┘
```

#### 2. ホーム画面（上部バナー）

**ログイン中**:
```
┌─────────────────────────────────────────┐
│ ✓ ログイン中: testuser                  │
│   (testuser@example.com)                │
└─────────────────────────────────────────┘
```

**ログアウト状態**:
```
┌─────────────────────────────────────────┐
│ ℹ️ ログインしていません。               │
│    ログインページからログインしてください。│
└─────────────────────────────────────────┘
```

#### 3. 各機能画面（チップ表示）

```
✓ ログイン中: testuser
```

小さな緑色のチップとして表示されます。

### 認証が必要な機能

以下の機能を使用する場合は、ログインが推奨されます：

- 従業員管理（閲覧は可能、編集には認証が必要）
- 勤怠管理
- 通知管理
- 管理者専用機能

### ログイン方法

1. ナビゲーションメニューまたはホーム画面から「ログイン」をクリック
2. ログイン画面でユーザー名とパスワードを入力
3. 「ログイン」ボタンをクリック
4. 成功すると自動的にホーム画面に戻ります

### ログアウト方法

1. ナビゲーションメニューの「ログアウト」をクリック、または
2. ホーム画面の認証カードの「ログアウト」ボタンをクリック
3. 自動的にログアウト状態になります

---

## アイコンの意味

システムで使用されている主なアイコンとその意味を説明します。

### ナビゲーションアイコン

| アイコン | 名前 | 意味 |
|---------|------|------|
| 🏠 | ホーム | トップページへ移動 |
| ☰ | メニュー | ナビゲーションドロワーの開閉 |
| 📊 | ダッシュボード | 統計情報の表示 |
| 👥 | 従業員 | 従業員管理機能 |
| 🕐 | 時計 | 勤怠管理機能 |
| 🔔 | ベル | 通知管理機能 |
| ⋮ | その他 | 追加オプション（将来使用） |

### 認証関連アイコン

| アイコン | 名前 | 意味 |
|---------|------|------|
| 🔐 | ログイン | ログイン機能 |
| 🚪 | ログアウト | ログアウト機能 |
| 👤 | ユーザー | ユーザープロファイル |
| 🛡️ | セキュリティ | 認証・セキュリティ機能 |
| ✓ | チェックマーク | 認証成功、確認済み |

### 操作アイコン

| アイコン | 名前 | 意味 |
|---------|------|------|
| ➕ | プラス | 新規追加 |
| ✏️ | 編集 | データの編集 |
| 🗑️ | ゴミ箱 | 削除 |
| 🔍 | 虫眼鏡 | 検索 |
| 💾 | フロッピーディスク | 保存 |
| ❌ | バツ | キャンセル、閉じる |
| 🔄 | 矢印（円） | 更新、リロード |

### ステータスアイコン

| アイコン | 名前 | 意味 |
|---------|------|------|
| ✓ | チェック | 成功、完了 |
| ℹ️ | 情報 | 情報メッセージ |
| ⚠️ | 警告 | 警告、注意が必要 |
| ❌ | エラー | エラー、失敗 |
| ⭕ | スピナー | 読み込み中 |

---

## 共通UI要素

### ボタン

システムで使用されるボタンの種類と用途を説明します。

#### 1. Filled（塗りつぶし）ボタン

**外観**: 背景色が塗りつぶされたボタン  
**用途**: 主要なアクション（ログイン、保存、追加など）

```
┌─────────────┐
│   ログイン   │ ← 青色の塗りつぶしボタン
└─────────────┘
```

#### 2. Text（テキスト）ボタン

**外観**: テキストのみのボタン  
**用途**: 副次的なアクション（キャンセル、詳細表示など）

```
キャンセル  詳細を見る
```

#### 3. Outlined（アウトライン）ボタン

**外観**: 枠線のみのボタン  
**用途**: 代替アクション

```
┌─────────────┐
│   キャンセル  │ ← 枠線のみのボタン
└─────────────┘
```

### カード

情報をグループ化して表示するコンテナです。

```
┌─────────────────────────┐
│ 👥 従業員管理           │ ← カードヘッダー
│                         │
│ 従業員情報の登録、編集、 │ ← カードコンテンツ
│ 検索を行えます。         │
│                         │
│ [開く]                  │ ← カードアクション
└─────────────────────────┘
```

### フォーム入力

#### テキストフィールド

```
┌───────────────────────────┐
│ ユーザー名               │ ← ラベル
│ [入力フィールド______]   │ ← 入力エリア
└───────────────────────────┘
```

#### パスワードフィールド

```
┌───────────────────────────┐
│ パスワード               │
│ [●●●●●●●●_________]     │ ← マスク表示
└───────────────────────────┘
```

### テーブル

データを表形式で表示します。

```
┌──────┬───────┬──────┬────────┐
│ ID   │ 名前  │ 部署 │ 操作   │
├──────┼───────┼──────┼────────┤
│ 1    │ 山田  │ 営業 │ [編集] │
│ 2    │ 佐藤  │ 開発 │ [編集] │
└──────┴───────┴──────┴────────┘
```

### チップ

小さなラベルやタグとして使用されます。

```
✓ ログイン中: testuser
```

**用途**:
- ステータス表示
- フィルタリング
- 選択可能なオプション

### プログレスインジケーター

#### 円形スピナー

```
⭕ 読み込み中...
```

データの読み込み中に表示されます。

#### 線形プログレスバー

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

長時間の処理中に進捗を表示します。

---

## キーボードショートカット

### 基本操作

| キー操作 | 動作 |
|---------|------|
| `Tab` | 次のフィールドへ移動 |
| `Shift + Tab` | 前のフィールドへ移動 |
| `Enter` | フォーム送信、ボタン実行 |
| `Esc` | ダイアログを閉じる |

### ブラウザ標準機能

| キー操作 | 動作 |
|---------|------|
| `Ctrl + R` または `F5` | ページのリロード |
| `Alt + ←` | 前のページに戻る |
| `Alt + →` | 次のページへ進む |
| `Ctrl + +` | ズームイン |
| `Ctrl + -` | ズームアウト |
| `Ctrl + 0` | ズームリセット |

### フォーム入力

| キー操作 | 動作 |
|---------|------|
| `Ctrl + A` | すべて選択 |
| `Ctrl + C` | コピー |
| `Ctrl + V` | 貼り付け |
| `Ctrl + X` | 切り取り |

---

## レスポンシブデザイン

従業員管理システムは、さまざまなデバイスサイズに対応しています。

### デスクトップ（1280px以上）

- ナビゲーションドロワーは初期状態で開いている
- 広い画面スペースを活用した2カラムレイアウト
- すべての機能が一度に表示される

```
┌────┬──────────────────────────┐
│    │                          │
│ 🏠 │  コンテンツエリア        │
│ 📊 │  （広いスペース）        │
│ 👥 │                          │
│    │                          │
└────┴──────────────────────────┘
```

### タブレット（768px～1279px）

- ナビゲーションドロワーは必要に応じて開閉
- 適度な余白を持ったレイアウト
- カード表示が2列になる

```
┌──────────────────────┐
│ ☰  従業員管理システム │
├──────────────────────┤
│                      │
│  コンテンツエリア    │
│  （中程度のスペース）│
│                      │
└──────────────────────┘
```

### モバイル（767px以下）

- ナビゲーションドロワーは初期状態で閉じている
- シングルカラムレイアウト
- タッチ操作に最適化された大きめのボタン
- カード表示が1列になる

```
┌────────────┐
│ ☰  従業員  │
├────────────┤
│            │
│ コンテンツ │
│  (1列)     │
│            │
└────────────┘
```

### レスポンシブ対応のポイント

1. **ナビゲーションドロワー**
   - デスクトップ: 常時表示
   - モバイル: メニューボタンで開閉

2. **カードレイアウト**
   - デスクトップ: 3列表示
   - タブレット: 2列表示
   - モバイル: 1列表示

3. **テキストサイズ**
   - 画面サイズに応じて自動調整
   - モバイルでも読みやすい大きさを維持

4. **タッチ対応**
   - ボタンやリンクは指で押しやすいサイズ
   - スワイプやタップジェスチャーに対応

---

## ベストプラクティス

### 効率的な操作のコツ

1. **左上メニューで主要機能にすぐアクセス**
   - よく使う機能はナビゲーションメニューからワンクリック
   - メニューボタン（☰）の場所を覚えておく

2. **ホーム画面を起点にする**
   - 迷ったらホームアイコン（🏠）をクリック
   - ホーム画面から各機能へアクセス可能

3. **エラーメッセージを読む**
   - エラーが出たら、まずメッセージの内容を確認
   - 多くの場合、解決方法が記載されている

4. **認証状態を確認する**
   - 機能が使えない場合は、ログイン状態を確認
   - 必要に応じてログインする

5. **ブラウザの機能を活用**
   - ブックマーク機能でよく使うページを保存
   - 戻るボタンで前の画面に戻る

### トラブルシューティング

| 問題 | 対処法 |
|------|--------|
| メニューが表示されない | 左上のメニューボタン（☰）をクリック |
| ページが読み込まれない | ページをリロード（F5キー） |
| ログインできない | ユーザー名とパスワードを再確認 |
| データが表示されない | ログイン状態を確認、またはページをリロード |
| ボタンが押せない | ページの読み込みが完了するまで待つ |

---

## まとめ

この章では、従業員管理システムの画面共通操作について説明しました。

### 重要なポイント

✅ **ナビゲーションメニュー**: 左上のメニューボタン（☰）で開閉、主要機能にすぐアクセス  
✅ **画面間の移動**: サイドバー、カード、リンクから簡単に移動可能  
✅ **エラー表示**: 色とアイコンで重要度を判断、メッセージの内容を確認  
✅ **認証状態**: 複数の場所で確認可能、必要に応じてログイン  
✅ **アイコン**: 直感的な操作を支援、意味を理解して効率的に使用  
✅ **レスポンシブデザイン**: デスクトップ、タブレット、モバイルで最適な表示

### 次のステップ

- 各機能の詳細な使い方については、該当する章を参照してください
- 分からないことがあれば、管理者に問い合わせてください
- システムを実際に操作して、使い方に慣れてください

---

**バージョン**: 1.0  
**最終更新日**: 2025-11-10  
**対象システム**: 従業員管理システム v1.0
